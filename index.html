<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div>이름 : <input type = "text" id="name"/></div>
        <div>지역 : 
            <select id = "city" onchange="changeCity();"></select>
        </div>
        <div>동네 : 
            <select id = "region_02">
                <option value="">강남</option>
                <option value="">서초</option>
            </select>
            <select id = "region_064" style="display:none;">
                <option value="">제주시</option>
                <option value="">서귀포시</option>
            </select>
        </div>
        <div>
            내용 : <input type = "text" id="test"/>
        </div>
        <button type = "button" onclick="regist()">등록</button>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">//bootstrap link도 포함</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
        //jQuery는 긴 코드를 짧게 표현할 수 있어서 코드가 길어지면 애가 소중함.
    </script>
    
    <script>
        /*
        외부 오픈소스, 라이브러리를 삽입에서 사용 많이 함.
        웹브라우저 엔진은 위에서부터 하나씩 분석하기에 자바스크립트는 <head> 안에서 하게되면 느리게 열릴 수 있다.
        되도록 <body> 안에서 진행을 권장! 말그대로 권장이다!
        */
        function regist(){ //합수
            //alert('버튼클릭'); 메세지박스 [html 내장 함수]
            
            /*
            alert(document.getElementById("name").value); // 입력받고 메시지창에 띄위기
            alert(document.getElementById("city").value); // 선택된 도시명 메시지창 출력
            */

           //jQuery 윗 내용 변환
           alert($("#name").val());
           alert($("#city").val());

           //오브젝트 선언 예제
           //기본 개인정보같이 하나같이 따로 던지기보단 오브젝트로 같이 넘겨주면 관리도 편함. 이유는 알것같아 웹에는 개인정보 등 다양한 묶은 데이터들을 자주 보내니까 자연스럽게 만들어진거같음.
           //다중구도 즉, 오브젝트안에 배열 오브젝트 등 대부분 담을 수 있다 생각하면됨.
           let obj = {
               //안에 내용은 Key Value 라고 부름. key는 선언안해도 나중에 데이터 넣을때 해주면 자동으로 생성됨.
               name : "",
               city : ""
            }

           obj.name = $("#name").val();
           obj.city = $("#city").val();

           console.log(obj);

        }

        function loadCity(){
            //배열예제
            //이친구도 오브젝트처럼 많은걸 담을 수 있음.
            let city = [{
                code:"02", 
                name:"서울"
            },
            {
                code:"064",
                name:"제주"
            }];

            for(let i=0; i<city.length; i++){
                if(i==0) $('#city').append('<option value="'+city[i].code+'" selected>'+city[i].name+'</option>');
                else $('#city').append('<option value="'+city[i].code+'">'+city[i].name+'</option>');
            }

            /*
            //jQuery .append 란, Element를 만들 수 있게 해주는 메소드임.
            //head쪽 *14줄 내용을 애로 해봄
            $('#city').append('<option value = "02" selected>서울</option>');
            $('#city').append('<option value = "064">제주</option>');*/
        }

        loadCity(); //함수 강제 호출

        

        function changeCity(){
            /*
            let city = document.getElementById("city").value; //변수선언
            //alert($("#city").val());

            //숨겨진 셀렉박스 초기화해서 하나남기고 숨기기
            document.getElementById("region_02").style.display = "none";
            document.getElementById("region_064").style.display = "none";

            //셀렉박스에서 고른건만 보일까말까 아일락 상태 쌉가능
            document.getElementById("region_"+city).style.display = "";*/
            

            //jQuery 윗 내용 변환
            let city = $('#city').val();
            $('#region_02').hide();
            $('#region_064').hide();
            $('#region_'+city).show();

        }

        //js 변수선언은 var, let, const / 정수형 / 실수형 / 문자형 "", '' 상관없음 / 자료형(참/거짓) / 오브젝트 {} / 배열 등등.. [다른 언어랑 다르게 걍 변수에 담으면 자동으로 잡아줌.]

        // 똑같은 변수명은 var에서 허용해줘부려~ 단, 새롭게 만들기에 초기화됨.
        var x = 1;
        x=x+2;

        //let은 오류남! 똑같은 변수명은 허용안줘잉! f12 -> 콘솔창 확인하면 알 수 있음!
        let y = 1;
        y = y+2;

        //const 변수로 선언되면 안에 값을 바꿀 수 없음. 절대값 같은 이미지.
        const z = 1;
        //z = z + 2;

        
        //document.getElementById("test").value = y;

        //let y = 2; 

        /*
        var x =2; 

        document.getElementById("test").value = x;
        //test = $('#x').val();
        */
    </script>
</body>
</html>